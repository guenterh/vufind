<?
// Set up page title:
$this->headTitle($this->translate('pura.remoteAccessForPrivateUsers'));

// Set up breadcrumbs:
$this->layout()->breadcrumbs = '<li><a href="' . $this->url('myresearch-home') . '">' . $this->transEsc('Your Account') . '</a></li> <li class="active">' . $this->transEsc('pura.remoteAccessForPrivateUsers') . '</li>';
?>

<div class="<?= $this->layoutClass('mainbody') ?>">
    <?= $this->flashmessages(); ?>

    <h2><?= $this->institution["label"][$this->layout()->userLang] ?></h2>

    <? if ($this->nonEduId): ?>
        <div class="alert alert-danger"><?= $this->transEsc('pura.nonEduId') ?></div>
    <? elseif (!($this->active)): ?>
        <p>To access remotely some of the e-resources of the <?= $this->institution["label"][$this->layout()->userLang] ?>, you need to print this page and bring it to the ZB Desk, along with your ID and Library Card. You can also show this screen on your mobile phone or laptop.</p>



        <table>
            <tr>
                <td>Name:&nbsp;</td>
                <td><?= $this->firstname ? $this->escapeHtml($this->firstname . ' ' . $this->lastname) : ''; ?></td>
            </tr>
            <tr>
                <td>Email:&nbsp;</td>
                <td><?= $this->email ? $this->escapeHtml($this->email) : ''; ?></td>
            </tr>
            <tr>
                <td>Barcode:&nbsp;</td>
                <td><?= $this->token ? $this->escapeHtml($this->token) : ''; ?></td>
            </tr>
        </table>


        <p>&nbsp;</p>

        <p><img src="<?= $this->url('pura/barcode', ['token' => $this->token]) ?>"></p>

        <p>Hiermit beantrage ich Zugang auf die digitalen Angebote
            der Zentralbibliothek Zürich über SWITCH edu-ID.</p>

        <button class="btn btn-primary" onClick="window.print()">
            <?= $this->transEsc('Print') ?>
        </button>

    <? else: ?>
        <p>You are registered for this service.</p>
        <p>Your account is valid until <?= $this->user->getExpirationDate()->format('j.n.Y') ?>.</p>
        <p>Access e-resourcen : </p>

        <ul>
            <?php foreach ($this->publishers as $publisher) : ?>

                <li><a href="<?= $publisher->getUrl() ?>"><?= $publisher->getName() ?></a></li>

            <?php endforeach; ?>
        </ul>

    <? endif; ?>



    <div class="home-content-box">
    <h4>Help</h4>
        <?= $this->context($this)->renderInContext("pura/library_info.phtml", []) ?>
    </div>








</div>

<div class="<?= $this->layoutClass('sidebar') ?>">
    <?= $this->context($this)->renderInContext("myresearch/menu.phtml", ['active' => 'pura']) ?>
</div>